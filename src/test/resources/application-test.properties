# Configurações da aplicação
spring.application.name=certified-builder-api
server.port=8081

# Configurações do serviço Tech Floripa (mock)
url.service.tech=http://localhost:8080

# Configurações de segurança
api.key=test-key

# Configurações AWS para testes (LocalStack)
spring.cloud.aws.endpoint=http://localhost:4566
spring.cloud.aws.credentials.accessKey=test
spring.cloud.aws.credentials.secretKey=test
spring.cloud.aws.region.static=us-east-1
spring.cloud.aws.region.auto=false

# DynamoDB Configuration
amazon.dynamodb.endpoint=http://localhost:4566
aws.accessKeyId=test
aws.secretAccessKey=test
aws.region=us-east-1

# SQS Configuration
spring.cloud.aws.queue.name.notification.generation=test-queue.fifo
spring.cloud.aws.sqs.queue-name=test-queue.fifo

# S3 Configuration
spring.cloud.aws.s3.bucket.name=test-bucket
spring.cloud.aws.s3.endpoint=http://localhost:4566
spring.cloud.aws.s3.path-style-access=true

# Desabilitar auto-configuração de JPA/DataSource
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

# Configurações específicas de teste
spring.main.allow-bean-definition-overriding=true

# Desabilitar completamente auto-configuração AWS nos testes
# Isso impede que o Spring Cloud AWS tente inicializar listeners SQS
spring.autoconfigure.exclude=\
  io.awspring.cloud.autoconfigure.core.AwsCoreAutoConfiguration,\
  io.awspring.cloud.autoconfigure.s3.S3AutoConfiguration,\
  io.awspring.cloud.autoconfigure.sqs.SqsAutoConfiguration,\
  io.awspring.cloud.autoconfigure.dynamodb.DynamoDbAutoConfiguration,\
  io.awspring.cloud.autoconfigure.credentials.CredentialsAutoConfiguration,\
  io.awspring.cloud.autoconfigure.region.RegionAutoConfiguration

# Desabilitar cloud discovery e configuration
spring.cloud.aws.region.auto=false
spring.cloud.aws.stack.auto=false
spring.cloud.discovery.enabled=false